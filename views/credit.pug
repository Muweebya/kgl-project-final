doctype html
head
  meta(charset='UTF-8')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  title Buyers on credit
  link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH' crossorigin='anonymous')
h1 Buyers on Credit
.container
  if error
    .alert.alert-danger #{error}
  form#credit-form(action='/credit/addCreditor' method='post')
    .mb-3
      label.form-label(for='buyername') Buyer's Name
      input#buyername.form-control(type='text' name='buyername' required)
      span#buyerError.error.text-danger
            
    .mb-3
      label.form-label(for='location') Location
      input#location.form-control(type='text' name='location' required)
      span#locationError.error.text-danger
      
    .mb-3
      label.form-label(for='nationalid') National ID
      input#nationalid.form-control(type='text' name='nationalid' required)
      span#ninError.error.text-danger
      
    .mb-3
      label.form-label(for='contact') Contact (Valid Phone Number)
      input#contact.form-control(type='text' name='contact' required pattern='[0-9]{10}')
      .form-text Enter a 10-digit valid phone number.
      span#contactError.error.text-danger
      
    .mb-3
      label.form-label(for='duedate') Due Date
      input#duedate.form-control(type='datetime-local' name='duedate' required)
      span#dueDateError.error.text-danger
      
    .mb-3
      label.form-label(for='dateofdispatch') Date of dispatch
      input#dateofdispatch.form-control(type='datetime-local' name='dateofdispatch' required)
      span#dispatchDateError.error.text-danger
      
    .mb-3
      label.form-label(for='produceName') Produce Name
      select#produceName.form-control(name='producename' required)
            option(value='') Select Produce
            option(value='beans') Beans
            option(value='grains') Grains
            option(value='maize') Maize
            option(value='cowpeas') Cow peas 
            option(value='soybeans') Soy Beans 
            option(value='gnuts') G-nuts
      span#produceError.error.text-danger
            
    .mb-3
      label.form-label(for='typeofproduce') Type of Produce
      select#typeofproduce.form-control(name='typeofproduce' required)
            option(value='') Select Type of Produce
            option(value='legumes') Legumes
            option(value='cereals') Cereals
      span#typeError.error.text-danger
        
    .mb-3
      label.form-label(for='tonnage') Tonnage (in kgs)
      input#tonnage.form-control(type='number' min='1' name='tonnage' required)
      span#tonnageError.error.text-danger
      
    .mb-3
      label.form-label(for='amountdue') Amount due (in UgX)
      input#amountdue.form-control(type='number' min='1' name='amountdue' required)
      span#amountError.error.text-danger
      
    .mb-3
      label.form-label(for='salesAgentName') Sales Agent's Name
      select#salesAgentName.form-control(name='salesagentname' required)
        if currentUser
          option(value=currentUser._id) #{currentUser.name}

    .mb-3
      label.form-label(for='branch') Branch
      select#branch.form-control(name='branch' required)
            option(value='') Select Branch
            option(value='maganjo') Maganjo
            option(value='matugga') Matugga
      span#branchError.error.text-danger
      
    button.btn.btn-primary(type='submit') Submit
  script(src='/js/credit.js')