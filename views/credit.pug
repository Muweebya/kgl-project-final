doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Buyers on Credit
    link(
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css",
      rel="stylesheet",
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH",
      crossorigin="anonymous"
    )
  body
    .container.mt-5
      h1.text-center.mb-4 Buyers on Credit

      if error
        .alert.alert-danger.text-center #{error}

      .row.justify-content-center
        .col-md-8.col-lg-6
          form#credit-form(action="/credit/addCreditor", method="post", class="card p-4 shadow-sm")

            .mb-3
              label.form-label(for="buyername") Buyer's Name
              input#buyername.form-control(type="text", name="buyername", required)
              span#buyerError.text-danger.small

            .mb-3
              label.form-label(for="location") Location
              input#location.form-control(type="text", name="location", required)
              span#locationError.text-danger.small

            .mb-3
              label.form-label(for="nationalid") National ID
              input#nationalid.form-control(type="text", name="nationalid", required)
              span#ninError.text-danger.small

            .mb-3
              label.form-label(for="contact") Contact (Valid Phone Number)
              input#contact.form-control(
                type="text",
                name="contact",
                required,
                pattern="[0-9]{10}",
                placeholder="Enter 10-digit phone number"
              )
              div.form-text.text-muted Enter a 10-digit valid phone number.
              span#contactError.text-danger.small

            .mb-3
              label.form-label(for="duedate") Due Date
              input#duedate.form-control(type="datetime-local", name="duedate", required)
              span#dueDateError.text-danger.small

            .mb-3
              label.form-label(for="dateofdispatch") Date of Dispatch
              input#dateofdispatch.form-control(type="datetime-local", name="dateofdispatch", required)
              span#dispatchDateError.text-danger.small

            .mb-3
              label.form-label(for="produceName") Produce Name
              select#produceName.form-select(name="producename", required)
                option(value="") Select Produce
                option(value="beans") Beans
                option(value="grains") Grains
                option(value="maize") Maize
                option(value="cowpeas") Cow Peas
                option(value="soybeans") Soy Beans
                option(value="gnuts") G-nuts
              span#produceError.text-danger.small

            .mb-3
              label.form-label(for="typeofproduce") Type of Produce
              select#typeofproduce.form-select(name="typeofproduce", required)
                option(value="") Select Type of Produce
                option(value="legumes") Legumes
                option(value="cereals") Cereals
              span#typeError.text-danger.small

            .mb-3
              label.form-label(for="tonnage") Tonnage (in kgs)
              input#tonnage.form-control(type="number", name="tonnage", min="1", required)
              span#tonnageError.text-danger.small

            .mb-3
              label.form-label(for="amountdue") Amount Due (in UGX)
              input#amountdue.form-control(type="number", name="amountdue", min="1", required)
              span#amountError.text-danger.small

            .mb-3
              label.form-label(for="salesAgentName") Sales Agent's Name
              select#salesAgentName.form-select(name="salesagentname", required)
                if currentUser
                  option(value=currentUser._id) #{currentUser.name}

            .mb-3
              label.form-label(for="branch") Branch
              select#branch.form-select(name="branch", required)
                option(value="") Select Branch
                option(value="maganjo") Maganjo
                option(value="matugga") Matugga
              span#branchError.text-danger.small

            .d-grid.mt-4
              button.btn.btn-primary.btn-lg(type="submit") Submit

    script(src="/js/credit.js")
    script(
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js",
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz",
      crossorigin="anonymous"
    )
