doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Update Buyers on Credit
    link(
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css",
      rel="stylesheet",
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH",
      crossorigin="anonymous"
    )
  body
    .container.mt-5
      h1.text-center.mb-4 Update Buyers on Credit

      .row.justify-content-center
        .col-md-8.col-lg-6
          form#credit-form(
            action="/credit/updateCreditor?id=" + creditor._id,
            method="post",
            class="card p-4 shadow-sm"
          )

            .mb-3
              label.form-label(for="buyername") Buyer's Name
              input#buyername.form-control(type="text", name="buyername", required, value=creditor.buyername)
              .text-danger.small#buyerError

            .mb-3
              label.form-label(for="location") Location
              input#location.form-control(type="text", name="location", required, value=creditor.location)
              .text-danger.small#locationError

            .mb-3
              label.form-label(for="nationalid") National ID
              input#nationalid.form-control(type="text", name="nationalid", required, value=creditor.nationalid)
              .text-danger.small#ninError

            .mb-3
              label.form-label(for="contact") Contact (Valid Phone Number)
              input#contact.form-control(
                type="tel",
                name="contact",
                required,
                pattern="[0-9]{10}",
                value=creditor.contact,
                placeholder="Enter 10-digit phone number"
              )
              .form-text.text-muted Enter a 10-digit valid phone number.
              .text-danger.small#contactError

            .mb-3
              label.form-label(for="duedate") Due Date
              input#duedate.form-control(type="datetime-local", name="duedate", required, value=creditor.duedate)
              .text-danger.small#dueDateError

            .mb-3
              label.form-label(for="dateofdispatch") Date of Dispatch
              input#dateofdispatch.form-control(type="datetime-local", name="dateofdispatch", required, value=creditor.dateofdispatch)
              .text-danger.small#dispatchDateError

            .mb-3
              label.form-label(for="produceName") Produce Name
              select#produceName.form-select(name="producename", required)
                option(value="", selected=!creditor.producename) Select Produce
                option(value="beans", selected=creditor.producename === "beans") Beans
                option(value="grains", selected=creditor.producename === "grains") Grains
                option(value="maize", selected=creditor.producename === "maize") Maize
                option(value="cowpeas", selected=creditor.producename === "cowpeas") Cow Peas
                option(value="soybeans", selected=creditor.producename === "soybeans") Soy Beans
                option(value="gnuts", selected=creditor.producename === "gnuts") G-nuts
              .text-danger.small#produceError

            .mb-3
              label.form-label(for="typeofproduce") Type of Produce
              select#typeofproduce.form-select(name="typeofproduce", required)
                option(value="", selected=!creditor.typeofproduce) Select Type of Produce
                option(value="legumes", selected=creditor.typeofproduce === "legumes") Legumes
                option(value="cereals", selected=creditor.typeofproduce === "cereals") Cereals
              .text-danger.small#typeError

            .mb-3
              label.form-label(for="tonnage") Tonnage (in kgs)
              input#tonnage.form-control(type="number", name="tonnage", min="1", required, value=creditor.tonnage)
              .text-danger.small#tonnageError

            .mb-3
              label.form-label(for="amountdue") Amount Due (in UGX)
              input#amountdue.form-control(type="number", name="amountdue", min="1", required, value=creditor.amountdue)
              .text-danger.small#amountError

            .mb-3
              label.form-label(for="salesAgentName") Sales Agent's Name
              input#salesAgentName.form-control(type="text", name="salesagentname", required, value=creditor.salesagentname)
              .text-danger.small#agentError

            .mb-3
              label.form-label(for="branch") Branch
              select#branch.form-select(name="branch", required)
                option(value="", selected=!creditor.branch) Select Branch
                option(value="maganjo", selected=creditor.branch === "maganjo") Maganjo
                option(value="matugga", selected=creditor.branch === "matugga") Matugga
              .text-danger.small#branchError

            .d-grid.mt-4
              button.btn.btn-primary.btn-lg(type="submit") Update

    script(src="/js/credit.js")
    script(
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js",
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz",
      crossorigin="anonymous"
    )

