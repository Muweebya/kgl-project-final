doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Update Produce
    link(
      rel="stylesheet",
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css",
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH",
      crossorigin="anonymous"
    )
  body
    .container.mt-5
      h1.text-center.mb-4 Update Procured Produce

      if error
        .alert.alert-danger.text-center #{error}

      .row.justify-content-center
        .col-md-8.col-lg-6
          form#procurementForm(action="/procurement/updateProduct?id=" + produce._id, method="post", class="card p-4 shadow-sm")

            .mb-3
              label.form-label(for="produceName") Produce Name
              select#produceName.form-select(name="producename", required)
                option(value="") Select Produce
                option(value="beans", selected=produce.producename === 'beans') Beans
                option(value="grains", selected=produce.producename === 'grains') Grains
                option(value="maize", selected=produce.producename === 'maize') Maize
                option(value="cowpeas", selected=produce.producename === 'cowpeas') Cow Peas
                option(value="soybeans", selected=produce.producename === 'soybeans') Soy Beans
                option(value="gnuts", selected=produce.producename === 'gnuts') G-nuts
              span#errorName.text-danger.small

            .mb-3
              label.form-label(for="produceType") Type of Produce
              select#produceType.form-select(name="typeofproduce", required)
                option(value="") Select Type of Produce
                option(value="legumes", selected=produce.typeofproduce === 'legumes') Legumes
                option(value="cereals", selected=produce.typeofproduce === 'cereals') Cereals
              span#typeError.text-danger.small

            .mb-3
              label.form-label(for="dateTime") Date & Time
              input#dateTime.form-control(
                type="datetime-local",
                name="dateandtime",
                required,
                value=produce.dateandtime
              )
              span#dateError.text-danger.small

            .mb-3
              label.form-label(for="tonnage") Tonnage (in kgs)
              input#tonnage.form-control(
                type="number",
                min="1",
                name="tonnage",
                required,
                value=produce.tonnage,
                placeholder="Enter tonnage"
              )
              span#tonnageError.text-danger.small

            .mb-3
              label.form-label(for="dealerName") Dealer's Name
              input#dealerName.form-control(
                type="text",
                name="dealername",
                required,
                value=produce.dealername,
                placeholder="Enter dealer's name"
              )
              span#dealerError.text-danger.small

            .mb-3
              label.form-label(for="branchName") Branch Name
              select#branchName.form-select(name="branch", required)
                option(value="") Select Branch
                option(value="maganjo", selected=produce.branch === 'maganjo') Maganjo
                option(value="matugga", selected=produce.branch === 'matugga') Matugga
                option(value="dealer", selected=produce.branch === 'dealer') Dealer
              span#branchError.text-danger.small

            .mb-3
              label.form-label(for="contact") Contact (Valid Phone Number)
              input#contact.form-control(
                type="text",
                name="contact",
                required,
                pattern="^0[0-9]{9}$",
                value=produce.contact,
                placeholder="Enter 10-digit phone number"
              )
              div.form-text.text-muted Enter a 10-digit valid phone number starting with 0.
              span#contactError.text-danger.small

            .mb-3
              label.form-label(for="unitPrice") Unit Price
              input#unitPrice.form-control(
                type="number",
                min="1",
                name="unitprice",
                required,
                value=produce.unitprice,
                placeholder="Enter unit price"
              )
              span#priceError.text-danger.small

            .d-grid.mt-4
              button.btn.btn-primary.btn-lg(type="submit") Update

    script(src="/js/procurement.js")
    script(
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js",
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz",
      crossorigin="anonymous"
    )

