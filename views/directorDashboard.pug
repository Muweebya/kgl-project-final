doctype html
html(lang='en')
  head
    meta(charset='UTF-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    title Director Dashboard
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH' crossorigin='anonymous')
  
  body
    nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
      .container
        a.navbar-brand(href='/director/directorDash') Director Dashboard
        button.navbar-toggler(type='button' data-bs-toggle='collapse' data-bs-target='#navbarNav')
          span.navbar-toggler-icon
        #navbarNav.collapse.navbar-collapse
          ul.navbar-nav.ms-auto
            li.nav-item
              a.nav-link(href='/usersList') Users
            li.nav-item
              a.nav-link(href='/procurement/procuredProduceList') Procurement
            li.nav-item
              a.nav-link(href='/sales/salesList') Sales
            li.nav-item
              a.nav-link(href='/credit/creditorsList') Credit
            li.nav-item
              a.nav-link(href='/logout') Logout

    .container.mt-4
      h1.mb-4 Director Dashboard
      .row
        .col-md-6.col-lg-3.mb-4
          .card.text-white.bg-primary
            .card-body
              h5.card-title Users
              p.card-text Users
              a.btn.btn-light(href='/usersList') View All

        .col-md-6.col-lg-3.mb-4
          .card.text-white.bg-success
            .card-body
              h5.card-title Procurement
              p.card-text Products
              a.btn.btn-light(href='/procurement/procuredProduceList') View All

        .col-md-6.col-lg-3.mb-4
          .card.text-white.bg-info
            .card-body
              h5.card-title Sales
              p.card-text Sales
              a.btn.btn-light(href='/sales/salesList') View All

        .col-md-6.col-lg-3.mb-4
          .card.text-white.bg-warning
            .card-body
              h5.card-title Credit
              p.card-text Creditors
              a.btn.btn-light(href='/credit/creditorsList') View All

      h1.mt-5.mb-4 Produce
      .row
        .col-md-6.col-lg-3.mb-4
          .card.text-white.bg-secondary
            .card-body
              h5.card-title Beans
              p.card-text Tonnage Sold: #{totalRevBeans.totalQuantity || 0} kgs
              p.card-text Purchase Costs: #{totalCostBeans.totalCost || 0} UGX
              p.card-text Revenue Generated: #{totalRevBeans.totalAmountPaid || 0} UGX

        .col-md-6.col-lg-3.mb-4
          .card.text-white.bg-secondary
            .card-body
              h5.card-title Grains
              p.card-text Tonnage Sold: #{totalRevGrains.totalQuantity || 0} kgs
              p.card-text Purchase Costs: #{totalCostGrains.totalCost || 0} UGX
              p.card-text Revenue Generated: #{totalRevGrains.totalAmountPaid || 0} UGX

        .col-md-6.col-lg-3.mb-4
          .card.text-white.bg-secondary
            .card-body
              h5.card-title Maize
              p.card-text Tonnage Sold: #{totalRevMaize.totalQuantity || 0} kgs
              p.card-text Purchase Costs: #{totalCostMaize.totalCost || 0} UGX
              p.card-text Revenue Generated: #{totalRevMaize.totalAmountPaid || 0} UGX

        .col-md-6.col-lg-3.mb-4
          .card.text-white.bg-secondary
            .card-body
              h5.card-title Cow Peas
              p.card-text Tonnage Sold: #{totalRevCowPeas.totalQuantity || 0} kgs
              p.card-text Purchase Costs: #{totalCostCowPeas.totalCost || 0} UGX
              p.card-text Revenue Generated: #{totalRevCowPeas.totalAmountPaid || 0} UGX

        .col-md-6.col-lg-3.mb-4
          .card.text-white.bg-secondary
            .card-body
              h5.card-title SoyBeans
              p.card-text Tonnage Sold: #{totalRevSoyBeans.totalQuantity || 0} kgs
              p.card-text Purchase Costs: #{totalCostSoyBeans.totalCost || 0} UGX
              p.card-text Revenue Generated: #{totalRevSoyBeans.totalAmountPaid || 0} UGX

        .col-md-6.col-lg-3.mb-4
          .card.text-white.bg-secondary
            .card-body
              h5.card-title Gnuts
              p.card-text Tonnage Sold: #{totalRevGnuts.totalQuantity || 0} kgs
              p.card-text Purchase Costs: #{totalCostGnuts.totalCost || 0} UGX
              p.card-text Revenue Generated: #{totalRevGnuts.totalAmountPaid || 0} UGX

      h1.mt-5.mb-4 Business Totals
      .row
        .col-md-6.col-lg-3.mb-4
          .card.text-white.bg-dark
            .card-body
              h5.card-title Business Totals
              - const totalSold = (totalRevBeans.totalQuantity || 0) + (totalRevGrains.totalQuantity || 0) + (totalRevMaize.totalQuantity || 0) + (totalRevCowPeas.totalQuantity || 0) + (totalRevSoyBeans.totalQuantity || 0) + (totalRevGnuts.totalQuantity || 0)
              - const totalCosts = (totalCostBeans.totalCost || 0) + (totalCostGrains.totalCost || 0) + (totalCostMaize.totalCost || 0) + (totalCostCowPeas.totalCost || 0) + (totalCostSoyBeans.totalCost || 0) + (totalCostGnuts.totalCost || 0)
              - const totalRevenue = (totalRevBeans.totalAmountPaid || 0) + (totalRevGrains.totalAmountPaid || 0) + (totalRevMaize.totalAmountPaid || 0) + (totalRevCowPeas.totalAmountPaid || 0) + (totalRevSoyBeans.totalAmountPaid || 0) + (totalRevGnuts.totalAmountPaid || 0)
              p.card-text Tonnage Sold: #{totalSold} kgs
              p.card-text Purchase Costs: #{totalCosts} UGX
              p.card-text Revenue Generated: #{totalRevenue} UGX
              p.card-text Profit/Loss: #{totalRevenue - totalCosts} UGX

    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js' integrity='sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz' crossorigin='anonymous')
